# VTW 图形界面使用指南

## 简介

VTW 现在提供图形化界面（GUI），让操作更加直观便捷。

## 启动方式

### 方式 1：使用启动脚本（推荐）

双击 `gui.bat` 文件即可启动图形界面。

### 方式 2：命令行启动

```bash
python src/gui.py
```

## 功能说明

### 主要功能

1. **URL 输入**
   - 支持输入 B站视频 URL
   - 支持输入 UP 主空间 URL
   - 支持剪贴板粘贴和清空操作

2. **处理选项**
   - 处理数量限制（UP 主模式，0-100 个视频）
   - 强制使用语音识别选项

3. **快速配置**
   - 打开配置文件（`config.json`）
   - 打开输出目录

4. **进度显示**
   - 实时进度条
   - 处理状态文本
   - 详细日志输出

5. **操作控制**
   - 开始处理按钮
   - 停止按钮（开发中）

### 界面布局

```
┌────────────────────────────────────────────────┐
│  VTW - Bilibili 视频转文字工具          │
│                                           [×] │
├────────────────────────────────────────────────┤
│                                          │
│  视频 URL                                │
│  [________________________] [粘贴] [清空]   │
│                                          │
│  处理选项                                │
│  处理数量限制 (UP 主模式): [不限制 ▼] │
│  ☐ 强制使用语音识别（不下载字幕）      │
│                                          │
│  快速配置                                  │
│  [打开配置文件] [打开输出目录]          │
│                                          │
│  操作                                      │
│        [      开始处理      ]              │
│        [      停止          ]              │
│                                          │
│  处理进度                                │
│  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓      60%    │
│                                          │
│  就绪                                      │
│                                          │
│  处理日志                                │
│  ┌────────────────────────────────────┐      │
│  │ [开始处理: https://...      │      │
│  │ 正在解析 URL...               │      │
│  │ ✓ 视频标题: xxx              │      │
│  │ 正在提取文字...               │      │
│  │ ✓ 处理完成！               │      │
│  │                            │      │
│  └────────────────────────────────────┘      │
│                        [清空日志]          │
└────────────────────────────────────────────────┘
```

## 使用流程

### 处理单个视频

1. 启动 GUI（双击 `gui.bat`）
2. 在"视频 URL"输入框中输入 B站视频链接
   - 示例：`https://www.bilibili.com/video/BV1xx411c7mD`
3. 可选择"强制使用语音识别"选项
4. 点击"开始处理"按钮
5. 等待处理完成，查看进度和日志

### 批量处理 UP 主视频

1. 启动 GUI（双击 `gui.bat`）
2. 在"视频 URL"输入框中输入 UP 主空间链接
   - 示例：`https://stream.bilibili.com/123456`
3. 在"处理数量限制"中设置要处理的视频数量
   - 示例：输入 `10` 表示处理最近 10 个视频
4. 点击"开始处理"按钮
5. 查看实时进度，处理日志会显示所有视频的处理状态

### 编辑配置

1. 点击"打开配置文件"按钮
2. 编辑 `config.json` 文件
3. 保存文件
4. 重新运行处理任务

## 技术信息

- **GUI 框架**：Tkinter（Python 内置）
- **Python 版本**：3.8+
- **线程安全**：后台处理，界面不卡顿
- **编码**：UTF-8，支持中文

## 注意事项

1. **首次运行**：首次运行会下载 Whisper 模型，需要等待几分钟
2. **磁盘空间**：确保有足够空间存放模型（~500MB）
3. **网络连接**：需要网络连接下载视频和调用大模型 API
4. **配置文件**：确保 `config.json` 配置正确（特别是 API Key）

## 故障排除

### GUI 启动失败

- 检查 Python 是否正确安装
- 检查 `gui.bat` 中的 Python 路径是否正确
- 尝试使用命令行启动：`python src/gui.py`

### 处理失败

- 查看"处理日志"区域的错误信息
- 检查网络连接
- 检查 `config.json` 配置
- 查看命令行版本是否正常工作

### 界面卡顿

- 这是正常现象，处理在后台线程运行
- 等待处理完成后即可

## 未来规划

- [ ] 添加进度百分比精确显示
- [ ] 支持拖放 URL 文件到界面
- [ ] 添加处理历史记录
- [ ] 支持主题切换
- [ ] 添加快捷键支持
- [ ] 支持批量添加多个 URL
- [ ] 添加停止功能真正实现
